{"version":3,"file":"create-element.min.js","sources":["../index.js"],"sourcesContent":["const SVG_TAGS = [\r\n  'circle',\r\n  'clipPath',\r\n  'defs',\r\n  'desc',\r\n  'ellipse',\r\n  'g',\r\n  'image',\r\n  'line',\r\n  'linearGradient',\r\n  'marker',\r\n  'mask',\r\n  'path',\r\n  'pattern',\r\n  'polygon',\r\n  'polyline',\r\n  'radialGradient',\r\n  'rect',\r\n  'stop',\r\n  'svg',\r\n  'switch',\r\n  'symbol',\r\n  'text',\r\n  'textPath',\r\n  'title',\r\n  'tspan',\r\n  'use',\r\n];\r\n\r\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\r\n\r\nconst NAMESPACED_ATTRIBUTES = {\r\n  'xlink:href': 'http://www.w3.org/1999/xlink',\r\n};\r\n\r\nfunction bindReference(target, key, link) {\r\n  if (!link) {\r\n    return bindReference.bind(this, target, key);\r\n  }\r\n  target[key] = link;\r\n}\r\n\r\n/**\r\n * Creates a node with given parameters\r\n * @param {string} tagAndClass - tag and optional dot separated classnames\r\n * @param {Object} [options={}] - options\r\n * @param {Array|String} children - children or string\r\n * @return {*} a node\r\n */\r\n\r\nfunction createElement(tagAndClass, { style, listeners, attributes, ref, domProps, dataset } = {}, children) {\r\n  // extract classlist from tag name\r\n  const [tagName, ...classList] = tagAndClass.split('.');\r\n\r\n  // create element by tagName\r\n  const nodeElement =\r\n    SVG_TAGS.indexOf(tagName) !== -1\r\n      ? document.createElementNS(SVG_NAMESPACE, tagName)\r\n      : document.createElement(tagName);\r\n\r\n  // add classes\r\n  if (classList.length) {\r\n    classList.forEach(className => nodeElement.classList.add(className));\r\n  }\r\n\r\n  // set attributes by key\r\n  if (attributes) {\r\n    for (const key in attributes) {\r\n      var attr = attributes[key];\r\n      if (attr) {\r\n        if (NAMESPACED_ATTRIBUTES.hasOwnProperty(key)) {\r\n          nodeElement.setAttributeNS(NAMESPACED_ATTRIBUTES[key], key, attr);\r\n        } else {\r\n          nodeElement.setAttribute(key, attr);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // assign dom props\r\n  if (domProps) {\r\n    for (const key in domProps) {\r\n      nodeElement[key] = domProps[key];\r\n    }\r\n  }\r\n\r\n  // assign styles\r\n  if (style) {\r\n    for (const key in style) {\r\n      nodeElement.style[key] = style[key];\r\n    }\r\n  }\r\n\r\n  // bind listeners\r\n  if (listeners) {\r\n    for (const key in listeners) {\r\n      nodeElement.addEventListener(key, listeners[key], false);\r\n    }\r\n  }\r\n\r\n  // create childs\r\n  if (children) {\r\n    if (Array.isArray(children)) {\r\n      children.forEach(child => {\r\n        if (child) {\r\n          child instanceof Element ? nodeElement.appendChild(child) : nodeElement.appendChild(create(...child));\r\n        }\r\n      });\r\n    } else if (typeof children === 'string') {\r\n      const textnode = document.createTextNode(children);\r\n      nodeElement.appendChild(textnode);\r\n    }\r\n  }\r\n\r\n  // bind rel\r\n  if (ref) {\r\n    ref(nodeElement);\r\n  }\r\n\r\n  // assign dataset\r\n  if (dataset) {\r\n    for (const key in dataset) {\r\n      nodeElement.dataset[key] = dataset[key];\r\n    }\r\n  }\r\n\r\n  return nodeElement;\r\n}\r\n\r\nmodule.exports = createElement;\r\n"],"names":["SVG_TAGS","NAMESPACED_ATTRIBUTES","xlink:href","module","exports","tagAndClass","children","style","listeners","attributes","ref","domProps","dataset","split","tagName","classList","nodeElement","indexOf","document","createElementNS","createElement","length","forEach","className","add","key","attr","hasOwnProperty","setAttributeNS","setAttribute","addEventListener","Array","isArray","child","Element","appendChild","create","textnode","createTextNode"],"mappings":"aAAA,IAAMA,EAAW,CACf,SACA,WACA,OACA,OACA,UACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,SACA,SACA,OACA,WACA,QACA,QACA,OAKIC,EAAwB,CAC5BC,aAAc,gCAiGhBC,OAAOC,QA/EP,SAAuBC,IAA4EC,oBAAJ,KAAzDC,IAAAA,MAAOC,IAAAA,UAAWC,IAAAA,WAAYC,IAAAA,IAAKC,IAAAA,SAAUC,IAAAA,UAEjDP,EAAYQ,MAAM,KAA3CC,OAAYC,aAGbC,GAC2B,IAA/BhB,EAASiB,QAAQH,GACbI,SAASC,gBA5BK,6BA4B0BL,GACxCI,SAASE,cAAcN,GAQ7B,GALIC,EAAUM,QACZN,EAAUO,QAAQ,SAAAC,UAAaP,EAAYD,UAAUS,IAAID,KAIvDd,EACF,IAAK,IAAMgB,KAAOhB,EAAY,CAC5B,IAAIiB,EAAOjB,EAAWgB,GAClBC,IACEzB,EAAsB0B,eAAeF,GACvCT,EAAYY,eAAe3B,EAAsBwB,GAAMA,EAAKC,GAE5DV,EAAYa,aAAaJ,EAAKC,IAOtC,GAAIf,EACF,IAAK,IAAMc,KAAOd,EAChBK,EAAYS,GAAOd,EAASc,GAKhC,GAAIlB,EACF,IAAK,IAAMkB,KAAOlB,EAChBS,EAAYT,MAAMkB,GAAOlB,EAAMkB,GAKnC,GAAIjB,EACF,IAAK,IAAMiB,KAAOjB,EAChBQ,EAAYc,iBAAiBL,EAAKjB,EAAUiB,IAAM,GAKtD,GAAInB,EACF,GAAIyB,MAAMC,QAAQ1B,GAChBA,EAASgB,QAAQ,SAAAW,GACXA,IACFA,aAAiBC,QAAUlB,EAAYmB,YAAYF,GAASjB,EAAYmB,YAAYC,oBAAUH,eAGrE,iBAAb3B,EAAuB,CACvC,IAAM+B,EAAWnB,SAASoB,eAAehC,GACzCU,EAAYmB,YAAYE,GAU5B,GALI3B,GACFA,EAAIM,GAIFJ,EACF,IAAK,IAAMa,KAAOb,EAChBI,EAAYJ,QAAQa,GAAOb,EAAQa,GAIvC,OAAOT"}